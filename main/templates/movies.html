{% extends 'base.html' %}
{% load staticfiles %}


{% block content %}
    <div class="container">
        <div class="page-identifier">
                <a class="oscar-link" href="https://youtu.be/66vTeZSJId4?t=7m14s" target="_blank"><p>film</p></a>
        </div>

            <div class="timeline">
                <div class="vertical-bar"></div>
                    {% for year, year_movies in movies.items %}

                        <div class="year">

                            <div class="movie-year"><p>{{ year }}</p></div>

                                <div class="shift-left">

                                   {% for context in year_movies %}


                                          <div class="movie">
                                                {% if context.poster %}

                                                    <a class="revealmovie" href="#"><img src="{{ context.poster.url }}" alt="This is the poster for {{ context.title }}"></a>

                                                {% else %}

                                                    <a class="revealmovie" href="#"><img src="{% static 'img/Film-3-icon.png' %}" alt="This movie had no poster, so we used a freely available illustration of cellulose film instead."></a>
                                 
                                                {% endif %}

                                                    <div class="movie-details">
                                                    <div class="backdrop"></div>
                                                    <div class="movie-details-inner">
                                                    {# <img src="{{ context.poster.url }}" alt="A larger view of the poster for {{ context.title }}"> #}
                                                      <h3><b>{{ context.title }}</b></h3>

                                                        <p class="year-released">{{ context.year_released }}</p>
                                                        <ul class="genres">
                                                            {% for genre in context.genres %}
                                                                <li>{{ genre }}</li>
                                                            {% endfor %}

                                                        </ul>
                                                        
                                                <p class="description">{{ context.description }}</p>

                                                        <p>Arthur turned {{ context.age }} years old that year. He had been in Los Angeles for {{ context.arthur_in_la }} years and married for {{ context.arthur_married }}.</p>

                                                    {% if context.grandchild_count >= 1 %}
                                                        
                                                        <p>His grandchildren by that year: {{ context.grandchild_count }}. </p> 
                                                    {% endif %}
                                                    </div>

                                        </div>
                                    </div>
                            {% if forloop.counter == forloop.revcounter or forloop.counter == forloop.revcounter|add:"-1" %}
                                </div>
                                <div class="shift-right">                                
                            {% endif %}
                        {% endfor %}
                            </div>
                        </div>
                {% endfor %}           
        </div>
    </div>

{% endblock %}